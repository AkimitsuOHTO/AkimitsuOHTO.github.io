<html lang="ja">
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Shift_JIS">
<TITLE>Java Script暇つぶしスロットゲーム</TITLE>

</HEAD>
<BODY>

<center>
<form name="form">

<img name="first" src="cube.png" width="100px">
<img name="second" src="apple.png" width="100px">
<img name="third" src="pepper.png" width="100px"><br>

<input type="button" value="stop" name="firstb" onClick=end(1)>　　　　　
<input type="button" value="stop" name="secondb" onClick=end(2)>　　　　　
<input type="button" value="stop" name="thirdb" onClick=end(3)>

<br><br>

<input type="button" value="  START  " onClick=startGame()>

<br><br><br>

<input type="text" size=55 name="pay_back">
</form>
</center>


<SCRIPT language="JavaScript1.1">

coin = 50      //初期コイン枚数
bet = 1
game = false   //スタートの二重押し禁止フラグ
box1 = true
box2 = true
box3 = true
num = Math.floor(Math.random() * 10)

IMG1 = "cube.png"
IMG2 = "apple.png"
IMG3 = "pepper.png"

image = new Array(IMG1,IMG2,IMG3)

//得点の計算
function keisan(){
                if((document.form.first.src == document.form.second.src) && (document.form.second.src == document.form.third.src)){
                    document.form.pay_back.value="大当たり！";
                } else if((document.form.first.src == document.form.second.src) || (document.form.second.src == document.form.third.src) || (document.form.third.src == document.form.first.src)){
                    document.form.pay_back.value="おめでとう！";
                } else {
                    document.form.pay_back.value="ざんねんでした！";
                }
             game = false
             box1 = true
             box2 = true
             box3 = true
}

//数字を止めるための関数
function end(variable){
        if(game == true){
                if(variable == 1)box1 = false
                if(variable == 2)box2 = false
                if(variable == 3)box3 = false
          }
        if((box1 == false) && (box2 == false) && (box3 == false)){
                clearTimeout(tid)
                keisan()
          }
}

//数字を変換し、ボタンを押したら止める。
function hyouji(){
       
       if(num == 10) num = 0
       if(box1)document.form.first.src = image[num % 3]
       if(box2)document.form.second.src = image[(num + 1) % 3]
       if(box3)document.form.third.src = image[(num + 2) % 3]
num += 1
tid = setTimeout("hyouji()",60)  //ここの数字を変えると、数字の変わる速さが変わります。(機種やブラウザ、メモリ搭載量にも左右される)
}


//ゲームの開始
function startGame(){
   if(game == false){
            game = true
            hyouji()
     }
}


//ロード時のメッセージ
document.form.pay_back.value="STARTを押してね。"

//-->
</SCRIPT>


</BODY>
</HTML>
